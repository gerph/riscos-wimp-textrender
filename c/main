/*******************************************************************
 * File:        main
 * Purpose:     WimpTextRender command line tool
 * Author:      Gerph
 ******************************************************************/

#include <stdlib.h>
#include <stdio.h>

#include "GContext/gcontext.h"
#include "textrender.h"

#include "VersionNum"

int main(int argc, char *argv[])
{
    textrender_t *trender;
    gcontext_t *gcontext = gcontext_initvdu(1);

    gcontext->rectangle_fill(gcontext, 0x81397900, 64, 64, 500,500);

    trender = textrender_init(gcontext);
    textrender_setfont(trender);

    {
        const char *msg = "Hello world!";
        int width = textrender_stringwidth(trender, msg, 0);
        textrender_setcolours(trender, 0x00000000, 0x8888FF00);
        textrender_paint(trender, msg, 64, 800);
        gcontext->line_start(gcontext, 0x88000000);
        gcontext->line_line(gcontext, 64, 800, 64+width, 800);
        gcontext->line_end(gcontext);
    }

    exit(EXIT_SUCCESS);
}
